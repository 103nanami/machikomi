<container>
  <div class="row">
    <div class="col-lg-12 mx-auto">

      <div class="admin_col_edit_title_box">
        <h3 class="admin_col_edit_title">コラムの編集</h3>
      </div>

    </div>

  </div>

  <%= form_with model: @column, url: admin_column_path(@column), method: :patch, local:true do |f| %>
    <div class="row">
      <div class="col-lg-12 mx-auto">

        <% if @column.errors.any? %>
        <div class="error_mess_all">
          <div class="error_mess_title">
            <h5><%= @column.errors.count %>件のエラーが発生しました</h5>
          </div>
          <div class="error_mess">
            <% @column.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </div>
        </div>
        <% end %>

        <table>
          <tr>
            <td class="table_title", style="padding: 30px 20px 0 0;">タイトル</td>
            <td class="table_text", style="padding: 30px 0 0 0;"><%= f.text_field :title, style:"width:300px; height:25px;" %></td>
          </tr>

          <tr>
            <td class="table_title", style="padding: 30px 20px 0 0;">街</td>
            <td class="table_text", style="padding: 30px 0 0 0;">
              <%= f.select :city_id, @cities.map{ |city| [city.name, city.id] } %>
            </td>
          </tr>

          <tr>
            <td class="table_title", style="padding: 30px 20px 0 0;">記事</td>
            <td class="table_text", style="padding: 30px 0 0 0;"><%= f.text_area :text, style:"width:400px; height:200px;" %></td>
          </tr>

          <tr>
            <td class="table_title", style="padding: 40px 20px 0 0;">画像</td>
            <td class="table_image", style="padding: 30px 0 0 0;">
              <%= attachment_image_tag @column, :image, style:"width:100px; height:auto;" %>
              <%= f.attachment_field :image %>
            </td>
          </tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="button", style="margin-top:50px;">
        <%=f.submit "変更を確定する", class:"btn btn-outline-info" ,style:"width:150px" %>
      </div>
    </div>
  <% end %>
</container>

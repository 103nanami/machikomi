<container>
  <div class="row">
    <div class="col-lg-12 mx-auto">

      <h3 class="admin_col_new_title">コラムの投稿</h3>
    </div>

  </div>

  <%= form_with model: @column, url:admin_columns_path, method: :POST, local:true do |f| %>
    <div class="row">
      <div class="col-lg-12 mx-auto">

         <% if @column.errors.any? %>
        <div class="error_mess_all">
          <div class="error_mess_title">
            <h5><%= @column.errors.count %>件のエラーが発生しました</h5>
          </div>
          <div class="error_mess">
            <% @column.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </div>
        </div>
        <% end %>

        <table>
          <tr>
            <td class="table_text"><%= f.text_field :title, style:"width:300px; height:25px;", placeholder:"タイトル" %></td>
          </tr>

          <tr>
            <td class="table_text">
              <%= f.select :city_id, @cities.map{ |city| [city.name, city.id] },:prompt => "まちを選択" %>
            </td>
          </tr>

          <tr>
            <td class="table_text"><%= f.text_area :text, style:"width:400px; height:200px;", placeholder:"記事" %></td>
          </tr>

          <tr>
            <td class="table_text">画像を選択　<%= f.attachment_field :image %></td>
          </tr>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="button">
        <%=f.submit "投稿する", class:"btn btn-info" ,style:"width:120px" %>
      </div>
    </div>
  <% end %>
</container>
